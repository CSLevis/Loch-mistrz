{% extends "base.html" %}
{% block title %}Karty Trader Manager'Ã³w{% endblock %}

{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='style2.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='character_cards.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='tmanager.css') }}">

<div class="floating-image" id="img" style="background-image: url('{{ url_for('static', filename='back.jpg') }}');">
</div>
<div class="overlay2"></div>

<div class="card-form-container-dnd5e">
    <h1 class="header-text-dnd5e">ğŸ’° Moje Karty Trader Manager'Ã³w</h1>

    <div style="margin-bottom: 25px;">
        <a href="{{ url_for('nowa_karta_trader') }}" class="btn-new-trader">â• UtwÃ³rz NowÄ… KartÄ™</a>
        <a href="{{ url_for('index') }}" class="btn-trader-back" style="margin-left: 10px;">â† WrÃ³Ä‡ do Menu</a>
    </div>

    {% if trader_cards %}
    <div class="trader-cards-list">
        {% for trader in trader_cards %}
        <div class="trader-container">
            <div class="trader-header">
                <h2>{{ trader.nazwa_postaci }}</h2>
                <p style="color: rgba(255, 255, 255, 0.8); margin: 10px 0 0 0; font-size: 12px;">
                    Utworzona: {{ trader.created_at.strftime('%d.%m.%Y %H:%M') }}
                </p>
            </div>

            <div style="padding: 15px; display: flex; gap: 10px; flex-wrap: wrap;">
                <a href="{{ url_for('edytuj_karte_trader', trader_id=trader.id) }}" class="btn-trader-save"
                    style="flex: 1; min-width: 150px;">
                    âœï¸ Edytuj
                </a>

                <form method="POST" action="{{ url_for('usun_karte_trader', trader_id=trader.id) }}"
                    style="flex: 1; min-width: 150px;">
                    <button type="submit" class="btn-trader-delete"
                        onclick="return confirm('Na pewno usunÄ…Ä‡ tÄ™ kartÄ™?');" style="width: 100%; cursor: pointer;">
                        ğŸ—‘ï¸ UsuÅ„
                    </button>
                </form>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="trader-container">
        <div style="padding: 30px; text-align: center; color: rgba(255, 255, 255, 0.7);">
            <p style="font-size: 16px;">Nie masz jeszcze Å¼adnych kart Trader Manager'a.</p>
        </div>
    </div>
    {% endif %}

</div>

<script src="{{ url_for('static', filename='main.js') }}"></script>
{% endblock %}